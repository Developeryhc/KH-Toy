<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="student">
	<select id="selectOneStudent" parameterType="s" resultType="s">		<!-- keyup값과 일치하는 지 -->
		select
			student_no as studentNo,
			student_class as studentClass,
			student_id as studentId,
			student_name as studentName,
			student_pw as studentPw,
			phone,
			grade
		from student where student_id=#{studentId}
		<if test="studentPw != null">
			and student_pw=#{studentPw}
		</if>
	</select>
	<select id="selectOpenCla" resultType="c">				<!-- 개강중인 반만 가져오기 -->
		select
			class_no as classNo,
			class_name as className,
			class_subject as classSubject,
			class_start as classStart,
			class_end as classEnd
		from class where class_end > to_char(sysdate,'yyyy-mm-dd') order by 1
	</select>
	<insert id="insertStudent" parameterType="s">
		insert into student values(student_seq.nextval,#{studentClass},#{studentId},#{studentName},#{studentPw},#{phone},3)
	</insert>
</mapper>
