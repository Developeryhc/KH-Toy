<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="record">
	<!-- 마이차트 -->
	<select id="selectOneRecord" parameterType="int" resultType="rec">
		SELECT
			record_no AS recordNo,
			record_student AS recordStudent,
			record_date AS recordDate,
			record_time AS recordTime,
			record_day AS recordDay,
			record_key AS recordKey
		FROM record WHERE record_student = #{studentNo}
	</select>
	<insert id="insertOneRecord" parameterType="r">
		INSERT INTO record VALUES(
			record_seq.NEXTVAL,
			#{reservationStudent},
			#{reservationDate},
			TO_NUMBER(TO_CHAR(#{reservationEnd}, 'YYYY-MM-DD HH24:MI'-TO_CHAR(#{reservationStart}, 'YYYY-MM-DD HH24:MI'))*1440
			1, 'N'
		)
	</insert>
</mapper>
